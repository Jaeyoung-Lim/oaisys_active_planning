<launch>
    <node pkg="tf" type="static_transform_publisher" name="world_map" args="0 0 0 0 0 0 world map 10"/>
    <node pkg="oaisys_client" type="test_oaisys_node" name="test_planner" output="screen">
        <param name="image_directory" value="$(find adaptive_viewutility)/../output"/>
        <param name="origin_x" value="0.0"/>
        <param name="origin_y" value="0.0"/>
        <param name="origin_z" value="50.0"/>
    </node>
    <node pkg="nodelet" type="nodelet" name="nodelet_manager" args="manager" />
    <node pkg="nodelet" type="nodelet" name="nodelet1"
            args="load depth_image_proc/point_cloud_xyzrgb nodelet_manager">
        <remap from="rgb/camera_info" to="/info"/>
        <remap from="rgb/image_rect_color" to="/image"/>
        <remap from="depth_registered/image_rect" to="/depth"/>
        <remap from="depth_registered/points" to="/camera/depth/points"/>
    </node>

    <arg name="voxel_size" default="2.0" />
    <arg name="voxels_per_side" default="16" />
    <arg name="method" default="merged"/>

   <node name="voxblox_node" pkg="voxblox_ros" type="tsdf_server" output="screen" args="-alsologtostderr" clear_params="true">
    <remap from="pointcloud" to="/camera/depth/points"/>
    <param name="tsdf_voxel_size" value="$(arg voxel_size)" />
    <param name="tsdf_voxels_per_side" value="16" />
    <param name="voxel_carving_enabled" value="false" />
    <param name="color_mode" value="color" />
    <param name="use_tf_transforms" value="false" />
    <param name="update_mesh_every_n_sec" value="1.0" />
    <param name="min_time_between_msgs_sec" value="0.0" />
    <param name="method" value="fast" />
    <param name="use_const_weight" value="false" />
    <param name="allow_clear" value="true" />
    <param name="verbose" value="true" />
    <param name="world_frame" value="world" />
    <param name="sensor_frame" value="camera" />
    <remap from="transform" to="/transform" />
    <param name="max_ray_length_m" value="100.0" />
    <param name="mesh_filename" value="$(find voxblox_ros)/mesh_results/$(anon cow).ply" />
  </node>

    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find oaisys_client)/launch/config.rviz" />
</launch>
